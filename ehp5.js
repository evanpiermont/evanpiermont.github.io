var papers = [
    {
    title: `Iterated Revelation: How to Incentivize Experts to Reveal Novel Actions`,
    authors: [],
    year: ``,
    journal: ``,
    rr: {j: `the American Economic Review`, s: 'Reject'},
    url: `https://arxiv.org/pdf/2304.05142.pdf`,
    abs: `This paper examines how a decision maker might incentivize an expert to reveal novel aspects of the decision problem, expanding the set of contracts from which the decision maker can choose. The chosen contract will determine, along with the resolution of uncertainty, the payoffs to both players. I show that the set of achievable outcomes under any (incentive compatible) mechanism is characterized by a small and tractable class of iterated revelation mechanisms (IRMs). An IRM is a dynamic interaction wherein each round the expert chooses to reveal some novel contingencies and the decision maker proposes a contract that the expert can accept or reject; the IRM ends after rejection or when nothing novel is revealed. I then consider the set of robust IRMs -- those that maximize the worst case outcome across all types of expert -- and show these are characterized by a principle of myopic optimality: at each round, the decision maker maximizes his payoff as if the expert had nothing further to reveal. The set of robust IRMs also delineate the payoffs achievable by any efficient mechanism.` ,
    kw: ['awareness', 'game-theory'],
},
   {
    title: `Failures of Contingent Thinking`,
    authors: ['Zuazo-Garin, Peio'],
    year: ``,
    journal: ``,
    rr: {j: `Theoretical Economics`, s: 'Revise'},
    url: `https://arxiv.org/pdf/2007.07703.pdf`,
    abs: `In this paper, we provide a theoretical framework to analyze an agent who misinterprets or misperceives the true decision problem she faces. Within this framework, we show that a wide range of behavior observed in experimental settings manifest as failures to perceive implications, in other words, to properly account for the logical relationships between various payoff relevant contingencies. We present behavioral characterizations corresponding to several benchmarks of logical sophistication and show how it is possible to identify which implications the agent fails to perceive. Thus, our framework delivers both a methodology for assessing an agent's level of contingent thinking and a strategy for identifying her beliefs in the absence full rationality.`,
    kw: ['logic', 'language', 'axioms'],
 }, 
   {
    title: `Misspecified Information in Dynamic Games`,
    authors: ['Zuazo-Garin, Peio'],
    year: ``,
    journal: ``,
    rr: {j: `the Journal of Economic Theory`, s: 'revise'},
    url: `https://arxiv.org/abs/2105.06772`,
    abs: `In dynamic settings each economic agent's choices can be revealing of her private information. This elicitation via the rationalization of observable behavior depends each agent's perception of which payoff-relevant contingencies other agents persistently deem as impossible. We formalize the potential heterogeneity of these perceptions as disagreements at higher-orders about the set of payoff states of a dynamic game. We find that apparently negligible disagreements greatly affect how agents interpret information and assess the optimality of subsequent behavior: When knowledge of the state space is only 'almost common', strategic uncertainty may be greater when choices are rationalized than when they are not--forward and backward induction predictions, respectively, and while backward induction predictions are robust to small disagreements about the state space, forward induction predictions are not. We also prove that forward induction predictions always admit unique selections a la Weinstein and Yildiz (2007) (also for spaces not satisfying richness) and backward induction predictions do not.`,
    kw: ['game-theory'],
 },
    {
    title: `Modeling the Modeler: A Normative Theory of Experimental Design`,
    authors: ['Payró, Fernando'],
    year: ``,
    journal: ``,
    rr: ``,
    url: `https://arxiv.org/abs/2411.11625`,
    abs: `We consider an analyst whose goal is to identify a subject's utility function through revealed preference analysis. We argue the analyst's preference about which experiments to run should adhere to three normative principles: The first, Structural Invariance, requires that the value of a choice experiment only depends on what the experiment may potentially reveal. The second, Identification Separability, demands that the value of identification is independent of what would have been counterfactually identified had the subject had a different utility. Finally, Information Monotonicity asks that more informative experiments are preferred. We provide a representation theorem, showing that these three principles characterize Expected Identification Value maximization, a functional form that unifies several theories of experimental design. We also study several special cases and discuss potential applications.`,
    kw: ['exp', 'axioms'],
 },
    {
    title: `Coarse Descriptions and Cautious Preferences`,
    authors: ['Pivato, Marcus'],
    year: ``,
    journal: ``,
    rr: ``,
    url: `https://papers.ssrn.com/sol3/papers.cfm?abstract_id=4951886`,
    abs: `We consider a model where an agent is must choose between alternatives that each provide only an imprecise description of the world (e.g. linguistic expressions). The set of alternatives is closed under logical conjunction and disjunction, but not necessarily negation. (Formally: it is a distributive lattice, but not necessarily a Boolean algebra). In our main result, each alternative is identified with a subset of an (endogenously defined) state space, and two axioms characterize maximin decision making. This means: from the agent's preferences over alternatives, we derive a preference order on the endogenous state space, such that alternatives are ranked in terms of their worst outcomes.`,
    kw: ['logic', 'language', 'axioms'],
},        
    {
    title: `Image and Norms`,
    authors: [],
    year: `2025`,
    journal: `the Journal of Economic Behavior and Organization`,
    rr: ``,
    volume: 233, 
    number: 106971,
    url: `https://www.sciencedirect.com/science/article/pii/S0167268125000915`,
    abs: `An image conscious decision maker (DM) who cares not only about the physical consequences of his actions, but also how his actions are perceived by others. When a DM takes a choice, the resulting image is the set of preferences that are consistent with the observed choice. This paper axiomatizes the behavior of a DM who derives utility directly via consumption and also via the induced image. Because the image depends on what could have been chosen, the DM will display menu-dependent preferences. I consider two models: in the first, the modeler observes two stages of choice—over menus and then from the chosen menu; in the second, only the latter choices are observed. The two models share the same representation but uniqueness is obtained only in the first.`,
    supp: `pdfs/IC_Supp.pdf`,
    kw: ['behavioral', 'axioms'],
 },
    {
    title: `A Representation Theorem for Causal Decision Making`,
    authors: [`Halpern, Joseph Y.`],
    year: `2024`,
    journal: `21st International Conference on Principles of Knowledge Representation and Reasoning`,
    rr: ``,
    url: `https://arxiv.org/abs/2401.10937`,
    abs: `We show that it is possible to understand and identify a decision maker’s subjective causal judgements by observing her preferences over interventions. Following Pearl [2000], we represent causality using causal models (also called structural equations models), where the world is described by a collection of variables, related by equations. We show that if a preference relation over interventions satisfies certain axioms (related to standard axioms regarding counterfactuals), then we can define (i) a causal model, (ii) a probability capturing the decision-maker’s uncertainty regarding the external factors in the world and (iii) a utility on outcomes such that each intervention is associated with an expected utility and such that intervention A is preferred to B iff the expected utility of A is greater than that of B. In addition, we characterize when the causal model is unique. Thus, our results allow a modeler to test the hypothesis that a decision maker’s preferences are consistent with some causal model and to identify causal judgements from observed behavior.`,
    kw: ['logic', 'axioms'],
 },       
    {
    title: `Vague Preferences and Contracts`,
    authors: [],
    year: ``,
    journal: ``,
    rr: ``,
    url: `https://papers.ssrn.com/sol3/papers.cfm?abstract_id=4689008`,
    abs: `In this paper, I examine decision making in an environment where payoff relevant contingencies are vague, that is neither absolutely true nor absolutely false. In this model, an agent values acts that are predicated on linguistic statements, rather than an exogenous state-space. I axiomatize a class of preferences under which agent’s beliefs about the degree of truth of contingencies is identified from her choices. I then apply this model to a simple contracting environment wherein contracts must be explicitly constructed using said linguistic statements. I show that different restrictions on the contract writing technology can impart different outcomes. However, under mild conditions, as the cost of contractual complexity vanishes, so do the distortionary effects of vagueness.`,
    kw: ['logic', 'language', 'axioms'],
 },       
    {
    title: `Hypothetical Expected Utility`,
    authors: [],
    year: ``,
    journal: ``,
    rr: ``,
    url: `https://arxiv.org/pdf/2106.15979.pdf`,
    abs: `This paper provides a model to analyze and identify a decision maker’s hypothetical reasoning.  Using this model, I show that a DM’s propensity to engage in hypo-thetical thinking is captured exactly by her ability to recognize implications (i.e., toidentify that one hypothesis implies another) and that this later relation is capturedby a DM’s observable behavior.  Thus, this characterization both provides a concretedefinition of (flawed) hypothetical reasoning and, importantly, yields a methodologyto identify these judgments from standard economic data.`,
    kw: ['axioms', 'language'],
 },
    {
    title: `Distributional Uncertainty and Persuasion`,
    authors: [],
    year: `2020`,
    journal: ``,
    url: ``,
    rr: ``,
    abs: `A Sender designs a signals regarding a state. The distribution of the state is unknown to a Receiver. When information is disclosed many times, accu- mulated signals change the Receiver’s belief about the distribution. Under mild conditions, the Sender’s private information about the distribution is never fully revealed. I then consider the effect of public commitment to a signal structure. Commitment mechanisms need to be unconditional in order to ensure private information revelation. Hence, my analysis in- dicates that the metrics by which policy changes are evaluated should be committed to before any preliminary investigation.`,
    kw: ['game-theory'],
 },
    {
    title: `Algebraic Semantics For Relative Truth, Awareness, And Possibility`,
    authors: [],
    year: `2023`,
    journal: `Review of Symbolic Logic`,
    volume: 17,
    pages: `154-177`,
    rr: ``,
    url: `https://doi.org/10.1017/S1755020323000308 `,
    abs: `This paper puts forth a class of algebraic structures, relativized Boolean algebras (RBAs), that provide semantics for propositional logic in which truth/validity is only defined relative to a local domain. In particular, the join of an event and its complement need not be the top element. Nonetheless, behavior is locally governed by the laws of propositional logic. By further endowing these structures with operators (akin to the theory of modal Algebras) RBAs serve as models of modal logics in which truth is relative. In particular, modal RBAs provide semantics for various well known awareness logics.`,
    kw: ['logic', 'awareness'],
 },
    {
    title: `Unawareness and Risk Taking: The Role of Context`,
    authors: [`Araujo, Felipe A.`],
    year: `2023`,
    journal: `Journal of Economic Behavior and Organization`,
    rr: ``,
    volume: 208,
    pages: '61-79',
    url: `https://doi.org/10.1016/j.jebo.2023.01.027`,
    abs: `We study the e ects of exposure to unawareness on risk taking using a novel experimental task, which has solutions that are di cult to find, but easy to verify and so exposes subjects to unawareness in a natural way. We find that exposure to unawareness alone does not a ect risk taking. The role of context, however, is shown to be important. For the treatments inducing unawareness, subjects are more risk averse when the investment decision is framed in the same context as the complex task versus framed in a neutral way; we observe no such di erences for the control treatment.`,
    supp: `pdfs/UA_exp_app.pdf`,
    kw: ['awareness', 'exp'],
 },
    {
    title: `Disentangling Strict and Weak Choice in Random Expected Utility Models`,
    authors: [],
    year: `2022`,
    journal: `the Journal of Economic Theory`,
    rr: ``,
    volume: 202,
    number: 105458,
    url: `https://doi.org/10.1016/j.jet.2022.105458`,
    abs: `We put forth a model of random choice in which precise choice frequencies of objects are identified only up to the frequency they are chosen by strict maxi- mization. The resulting primitive is a sub-additive capacity (i.e., set function). We provide simple restrictions on this primitive that are both necessary and sufficient for consistency with a random expected utility function. Thus, our model embeds both deterministic choice, regular random expected utility a la Gul and Pesendorfer (2006), and any combination between. We discuss several economic environments where such a primitive could be observed.`,
    kw: ['axioms'],
 },
    {
    title: `Unforeseen Evidence`,
    authors: [],
    year: `2021`,
    journal: `the Journal of Economic Theory`,
    rr: ``,
    volume: 193, 
    number: 105235,
    url: `https://doi.org/10.1016/j.jet.2021.105235`,
    abs: `I propose a normative updating rule, extended Bayesianism, for the incorporation of probabilistic information arising from the process of becoming more aware. Extended Bayesianism generalizes standard Bayesian updating to allow the posterior to reside on richer probability space than the prior. I then provide an observable criterion on prior and posterior beliefs such that they were consistent with extended Bayesianism.`,
    kw: ['logic', 'awareness', 'learning'],
 },
    {
    title: `Dynamic Awareness`,
    authors: [`Halpern, Joseph Y.`],
    year: `2020`,
    journal: `17th International Conference on Principles of Knowledge Representation and Reasoning (KR2020)`,
    rr: ``,
    url: `https://arxiv.org/abs/2007.02823`,
    abs: `We investigate how to model the beliefs of an agent who becomes more aware. We use the framework of Halpern and Rego (2013) by adding probability, and define a notion of a model transition that describes constraints on how, if an agent becomes aware of a new formula ϕ in state s of a model M, she transitions to state s∗ in a model M∗. We then discuss how such a model can be applied to information disclosure.`,
    kw: ['logic', 'awareness', 'learning'],
 },
    {
    title: `Exploration and Correlation`,
    authors: ['Teper, Roee'],
    year: 2019,
    journal: `Games and Economic Behavior`,
    rr: ``,
    volume: 116, 
    pages: `96-104`,
    url: `https://doi.org/10.1016/j.geb.2019.04.005`,
    abs: `In this paper, we study the extent to which contemporaneous correlations across actions affect an agent’s preferences over the different strategies in exploration problems. We show that such correlations carry no economic content and do not affect the agent’s preferences and, in particular, her optimal strategy. We argue that for similar reasons there is an inherent partial identification of the beliefs in exploration problems. Nevertheless, even under the partial identification, we show there are explicit conditions allowing the modeler to test whether the agent is acting according to some Bayesian model.`,
    supp: `pdfs/E&C_APP.pdf`,
    kw: ['learning', 'axioms'],
 },
    {
    title: `A Logic for Partial Awareness`,
    authors: [`Halpern, Joseph Y.`],
    year: 2019,
    journal: `Proceedings of the Thirty-Third AAAI Conference on Artificial Intelligence`,
    rr: ``,
    url: `https://arxiv.org/abs/1811.05751`,
    abs: `We develop a modal logic to capture partial awareness. The logic has three building blocks: objects, properties, and con- cepts. Properties are unary predicates on objects; concepts are Boolean combinations of properties. An agent can then be partially aware of a concept if she is aware of the concept in the abstract without being aware of the properties that de- fine it. The logic also allows for quantification over objects and properties so that the agent can reason about her own un- awareness. We then apply the logic to contracts. Contracts are syntactic objects that dictate outcomes based on the truth of formulae. The set of feasible contracts is limited by the for- mulae the agents are aware of. We show that when agents are unaware, referencing concepts that agents are only partially aware of can improve welfare.`,
    kw: ['logic', 'awareness'],
 },
    {
    title: `Reference Dependence and Attitudes Towards Uncertainty`,
    authors: [`Sebastian Lleras, Juan`, `Svoboda, Richard`],
    year: 2018,
    journal: `Economic Theory`,
    rr: ``,
    volume: 68,
    pages: `669–699`,
    url: `https://doi.org/10.1007/s00199-018-1138-4`,
    abs: `This paper characterizes a model of reference-dependence, where a state-contingent contract (act) is evaluated by its expected value and its expected gain-loss utility. The expected utility of an act serves as the reference point, hence gains (resp., losses) occur in states where the act provides an outcome that is better (worse) than expected. Beliefs, preferences over outcomes, and a degree of reference-dependence characterize the utility representation, and all are uniquely identified from behavior. Moreover, we establish a link between reference-dependence and attitudes towards uncertainty. In particular, we show within our framework, loss aversion and reference dependence are equivalent to max-min expected utility. Finally, we apply our model to sealed bid auctions where equilibrium bidding strategies are higher bids than risk-neutrality, and hence are more closely aligned with experimental findings.`,
    supp: `pdfs/Asymmetric_Gain-Loss Preferences--Auction.pdf`,
    kw: ['axioms', 'behavioral'],
 },
    {
    title: `Introspective Unawareness and Observable Choice`,
    authors: [],
    year: 2017,
    rr: ``,
    journal: `Games and Economic Behavior`,
    volume: 106, 
    pages: `134-152`,
    url: `https://doi.org/10.1016/j.geb.2017.09.008`,
    abs: `This paper considers a framework in which the decision makers's (DM) knowledge and awareness are explicitly modeled, as is her ability to reason about her own (un)awareness. The DM has a ranking over consumption alternatives that is informed by her epistemic state (i.e., what she knows and what she is aware of), which can serve as a foundation for well known models. The main result is a characterization, via observable choice, of introspective unawareness --a DM who is both unaware of some information and aware she is unaware. In static environments, or when the DM is blind to her own ignorance, the presence of unawareness does not produce any observable choice patterns. However, under dynamic introspective unawareness, the DM will be unwilling to commit to making future choices, even when given the  exibility to write a contingent plan that executes a choice conditional on the realization of uncertain events. This is a behavior that cannot be explained by uncertainty alone (i.e., without appealing to unawareness).`,
    kw: ['logic', 'awareness', 'axioms'],
 },
   {
    title: "Context Dependent Beliefs",
    authors: [],
    year: 2017,
    rr: ``,
    journal: "Journal of Mathematical Economics",
    volume: 71,
    pages: "63-73",
    url: "https://doi.org/10.1016/j.jmateco.2017.04.001",
    abs: `This paper examines a model where the set of available outcomes from which a decision maker must choose alters his perception of uncertainty. Specifically, this paper proposes a set of axioms such that each menu induces a subjective belief over an objective state-space. The decision maker’s preferences are dependent on the realization of the state. The resulting representation is analogous to state-dependent expected utility within each menu; the beliefs are menu-dependent and the utility index is not. Under the interpretation that a menu acts as an informative signal regarding the true state, the paper examines the behavioral restrictions that coincide with different signal structures: elemental (where each element of a menu is a conditionally independent signal) and partitional (where the induced beliefs form a partition of the state space).`,
    kw: ['behavioral', 'axioms'],
  },
  {
    title: "Learning the Krepsian State",
    authors: ['Teper, Roee', 'Takeoka, Norio'],
    year: 2016,
    rr: ``,
    journal: "Games and Economic Behavior", 
    volume: 100,
    pages: "69-94",
    url: "https://doi.org/10.1016/j.geb.2016.09.002",
    abs: `We take the Krepsian approach to provide a behavioral foundation for a class of responsive subjective learning processes. In contrast to the standard subjective state space models, the resolution of uncertainty regarding the true state is an endogenous process that depends on the decision maker's actions. In addition, there need not be full resolution of uncertainty between periods. When the decision maker chooses what to consume, she also chooses the information structure to which she will be exposed. When she consumes outcomes, she learns her relative preference between them; after each consumption history, the decision maker's information structure is a refinement of the previous information structure. We provide the behavioral restrictions corresponding to an infinite horizon, recursive representation that exhibits such a learning process. Moreover, through the incorporation of dynamics we are able to identify the set of preferences the decision maker believes possible after each history of consumption. That is, we identify the unique subjective state space without appealing to an environment with risk.`,
    kw: ['learning', 'axioms'],
  },
  
];

var absElements = []
var bibElements = []
var kws = new Set()
var activeFilter = new Set()

var now = new Date().getFullYear()


function createBib(paper){
   let stop = ['a', 'the', 'an']
   let author = paper['authors']
   author.push('Piermont., Evan');
   author = author.sort().join(' and ')
   title = paper['title']
   let fw = title.split(' ')[0].toLowerCase()
   if(stop.includes(fw)){
      fw = title.split(' ')[1].toLowerCase()
   }
   let year = paper['year'] || now
   let type = paper['journal'] ? `article` : `unpublished`

   let key = `piermont${year}${fw},\n`
   title=`\ttitle={${title}},\n`
   author=`\tauthor={${author}},\n`
   year=`\tyear={${year}},\n`
   let vol = paper['volume'] ? `\tvolume={${paper['volume']}},\n` : ""
   let num = paper['number'] ? `\tnumber={${paper['number']}},\n` : ""
   let pages = paper['pages'] ? `\tpages={${paper['pages']}},\n` : ""
   let journal = paper['journal'] ? `\tjournal={${paper['journal']}},\n` : ""
   let url = paper['url'] ? `\turl={${paper['url']}},\n` : ""
   let bib =
`@${type}{${key}${title}${author}${year}${journal}${vol}${num}${url}}`
   
   return bib
}



function createPaperElements(paper) {
  let paperLink = document.createElement('a');
  let paperDiv = document.createElement('div');
  paperLink.classList.add('paper_link');
  paperDiv.classList.add('paper');
  paperLink.appendChild(paperDiv);
  paperLink.href = paper['url'];

   let type
   if (paper['journal']){
    type = pub
   } else if (paper['rr']){
    type = rr
    paper['kw'].push('R\&R')
   } else {
    type = wp
    paper['kw'].push('working-paper')
   }

  authors = paper['authors']
  if (authors.length === 0) {
    authors = "";
   }else if(authors.length === 1){
      authors = `, with ${authors}`
   }else{
     authors = `, with ${authors.slice(0, -1).join(', ')} and ${authors.slice(-1)}`; 
   }

  let title = document.createElement('div');
  title.classList.add('paper_title');
  title.innerHTML = `<b>${paper['title']}</b>${authors}`;

  if(paper['journal'] || paper['rr'] ){
      let journal = document.createElement('span');
      journal.classList.add('paper_journal');
      let j = paper['journal'] ? paper['journal'] : paper['rr']['j']
      j = '<em>' + j + '</em>';
      let rr = paper['rr'] ? `<span class=rr>${paper['rr']['s']} \& Resubmit</span> at ` : ""
      let vol = paper['volume'] ? `, Vol. ${paper['volume']}` : ""
      let num = paper['number'] ? `, Number ${paper['number']}` : ""
      let pages = paper['pages'] ? `, pp. ${paper['pages']}` : ""
      journal.innerHTML = `<br>${rr}${j}${vol}${num}${pages}`;
      title.appendChild(journal);
  }

  let year = paper['year'] ? `, ${paper['year']}.` : `.`
  title.insertAdjacentHTML('beforeend', year);
  paperDiv.appendChild(title);

  paper['kw'].forEach(kw => kws.add(kw))

  let keywords = ""
  paper['kw'].forEach(function(kw) {
    paperLink.classList.add(`kw-${kw}`);
    keywords += `#${kw} `
  });

  let buttons = document.createElement('div');
  buttons.classList.add('paper_buts');
  paperDiv.appendChild(buttons);

  let abs_t = document.createElement('span');
  abs_t.classList.add('paper_abs_text');
  abs_t.textContent = paper['abs'];
  paperDiv.appendChild(abs_t);

 let abs_b = document.createElement('span');
  abs_b.classList.add('abs_button');
  abs_b.innerHTML = `<svg class=icon viewBox="0 0 24 30">
  <use href="#absi" />
</svg> abstract`

if(paper['supp']){

let supp_b = document.createElement('a');
  supp_b.classList.add('supp_button');
  supp_b.href = paper['supp'];
  supp_b.innerHTML = `
<svg class=icon viewBox="-42.98 -42.98 400.55 400.55">
  <use href="#suppi" />
</svg> supp. material`

buttons.prepend(supp_b);
}


let bib_b = document.createElement('span');
  bib_b.classList.add('bib_button');
  bib_b.innerHTML = `
<svg class=icon viewBox="0 0 100 100">
  <use href="#bibi" />
</svg> cite`;
 bib_b.setAttribute('data-bibtex', createBib(paper))

  buttons.prepend(bib_b);
  buttons.prepend(abs_b);

  absElements.push(abs_b)
  bibElements.push(bib_b)


 if(keywords){
    let k = document.createElement('div');
    k.classList.add('paper_kw');
    k.innerHTML = keywords;
    paperLink.appendChild(k);
 }

  

  return {div: paperLink, loc:type};
}

function createFilterButton(str) {
    const filterButtons = document.getElementById("filter_buttons");
    const span = document.createElement("span");
    span.classList.add('filter_button');
    span.id = `filter_${str}`;
    span.textContent = `${str}`;

    span.addEventListener("click", () => {
        if (span.classList.contains('active_filter')) {
        span.classList.remove('active_filter');
        activeFilter.delete(str)
        } else {
        span.classList.add('active_filter');
        activeFilter.add(str);
    }
    // Apply the filter
    applyFilter();
});

    filterButtons.appendChild(span);
}

function applyFilter() {

    const paperLinks = document.querySelectorAll(".paper_link");
    paperLinks.forEach(element => {
            element.style.display = "";
    })

    if(activeFilter.size > 0){
        paperLinks.forEach(element => {
            const matches = Array.from(activeFilter).every(kw => element.classList.contains(`kw-${kw}`));

            if (matches) {
                element.style.display = "";
            } else {
                element.style.display = "none";
            }
        });
    }
    document.getElementById("nav_research").click();
}

function appendPapersToDOM() {
  var pub = document.getElementById('pub'); 
  var wp = document.getElementById('wp'); 
  var rr = document.getElementById('wp'); 


  papers.forEach(function (paper) {
    var out = createPaperElements(paper);
    out['loc'].appendChild(out['div']);
  });

  kws.forEach(function (kw) {
    createFilterButton(kw)
  });

}


function copyto(data){
   let textarea = document.createElement('textarea');
   textarea.value = data;
   document.body.appendChild(textarea);
   textarea.select();
   document.execCommand('copy');
   document.body.removeChild(textarea);
}

function flashMessage(msg) {
    var flashMessage = document.getElementById('flash-message');
    flashMessage.textContent = msg;
    flashMessage.style.display = 'block';
    setTimeout(function () {
      flashMessage.style.display = 'none';
    }, 1000);
  }



init = function() {
   appendPapersToDOM();

  absElements.forEach(function(absElement) {
    absElement.addEventListener('click', function(e) {
      let textElement = this.parentNode.parentNode.querySelector('.paper_abs_text')
      textElement.style.display = (textElement.style.display === 'none' || textElement.style.display === '') ? 'block' : 'none';
      e.preventDefault()
    });
  });

  bibElements.forEach(function (bibButton) {
      bibButton.addEventListener('click', function (e) {
        var bibtexData = this.getAttribute('data-bibtex');
        copyto(bibtexData)
        flashMessage(`Copied: ${bibtexData}`)
        e.preventDefault()
     });
   });

};




